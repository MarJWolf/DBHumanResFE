<div>
  <mat-form-field appearance="fill" class="w25">
    <mat-label>Година</mat-label>
    <mat-select (valueChange)="onYearChange($event)">
      <mat-option *ngFor="let year of years" [value]="year">{{year}}</mat-option>
    </mat-select>
  </mat-form-field>
  <mat-tab-group *ngIf="calendarData">
    <mat-tab *ngFor="let month of months" [label]="month.name">
      <table mat-table [dataSource]="calendarData.users" >
        <ng-container matColumnDef="Месторабота">
          <th mat-header-cell *matHeaderCellDef>Месторабота</th>
          <td mat-cell *matCellDef="let user">{{user.workplace}}</td>
        </ng-container>
        <ng-container matColumnDef="Имена" >
          <th mat-header-cell *matHeaderCellDef>Имена</th>
          <td mat-cell *matCellDef="let user">
            {{user.user.name}}
          </td>
        </ng-container>
        <ng-container *ngFor="let day of monthDays" [matColumnDef]="''+day" >
          <th mat-header-cell *matHeaderCellDef>{{day}}</th>
          <td mat-cell *matCellDef="let user">
          <app-calendar-cell [type]="getCellType(day,month.num, user.user)"></app-calendar-cell>
          </td>
        </ng-container>
        <ng-container matColumnDef="Отсъстващи дни" >
          <th mat-header-cell *matHeaderCellDef>Отсъстващи дни</th>
          <td mat-cell *matCellDef="let user">
            {{user.user.absences}}
          </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="headerNames"></tr>
        <tr mat-row *matRowDef="let row; columns: headerNames;"></tr>

      </table>
    </mat-tab>
  </mat-tab-group>
</div>
